{"remainingRequest":"/Users/it_calvin/Desktop/my work/demo/node_modules/thread-loader/dist/cjs.js!/Users/it_calvin/Desktop/my work/demo/node_modules/babel-loader/lib/index.js!/Users/it_calvin/Desktop/my work/demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/it_calvin/Desktop/my work/demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/it_calvin/Desktop/my work/demo/src/components/pages/Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/it_calvin/Desktop/my work/demo/src/components/pages/Products.vue","mtime":1653988324369},{"path":"/Users/it_calvin/Desktop/my work/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/it_calvin/Desktop/my work/demo/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/it_calvin/Desktop/my work/demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/it_calvin/Desktop/my work/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/it_calvin/Desktop/my work/demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsgLy8g5Zug54K6b3Blbk1vZGFs5Lit5pyJ5L2/55So5YiwJyQn77yM6ICMJyQn5piv5bGs5pa8alF1ZXJ55Yqf6IO95Lit55qE6K6K5pW477yM5Zug5q2k5b+F6aCI5Zyo6YCZ6YKK6LyJ5YWlalF1ZXJ5CgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7IC8vIOeCuuS6huWwh1BhZ2luYXRpb24udnVl5L2c54K65YWD5Lu25o+S5YWl77yM6ZyA6KaBaW1wb3J0CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1Y3RzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBwYWdpbmF0aW9uOiB7fSwKICAgICAgdGVtcFByb2R1Y3Q6IHt9LAogICAgICBpc05ldzogZmFsc2UsCiAgICAgIC8vIOWIpOWumuaYr+imgeaWsOWinumChOaYr+e3qOi8r+eUouWTgeeahG1vZGVs5Yik5pa35byPCiAgICAgIC8vIGlzTG9hZGluZzogZmFsc2UsIC8vIOmgkOioreWFiOiuk2xvYWRpbmfmlYjmnpzpl5zplokKICAgICAgc3RhdHVzOiB7CiAgICAgICAgZmlsZVVwbG9hZGluZzogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24gLy8g54K65LqG5bCHUGFnaW5hdGlvbi52dWXkvZzngrrlhYPku7bmj5LlhaXvvIzpgJnpgorlsIfkuIrpnaJpbXBvcnQgUGFnaW5hdGlvbuWwjuWFpeW+jOS9nOeCuuWFg+S7tuWcqFByb2R1Y3RzLnZ1ZeijoeS9v+eUqAoKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWwh2FwaeS4reeahOeUouWTgeWMr+WFpeeUouWTgemggemdouS4rQogICAgZ2V0UHJvZHVjdHM6IGZ1bmN0aW9uIGdldFByb2R1Y3RzKCkgewogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgLy8g54K65LqG6K6T55Si5ZOB5YiX6KGo5Y+v5Lul5Zyo5LiA6LyJ5YWl5pmC5bCx5bCH56ys5LiA6aCB55W25L2c6aCQ6Kit6aCB6Z2i77yM5Y+D5pW45Y+v5Lul6Kit5a6a54K6cGFnZSA9IDHvvIzmraTngrpFUzbnmoTmlrnms5UKICAgICAgLy8g5Y+W5b6XQVBJ6LOH5paZICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiH5o+b6aCB77ya5ZyocHJvZHVjdHPlvozpnaLliqDkuIo/cGFnZT17cGFnZX3vvIzlj6/orpPliIfmj5vpoIHpnaLmnInlr6bpmpvkvZznlKgKICAgICAgdmFyIGFwaSA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVBBVEgsICIvYXBpLyIpLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0NVU1RPTVBBVEgsICIvcHJvZHVjdHM/cGFnZT0iKS5jb25jYXQocGFnZSk7CiAgICAgIHZhciB2bSA9IHRoaXM7IC8vIOeCuuS6huW+heacg+Wwh0FQSeeahOizh+aWmeWMr+WFpWRhdGHoo6HvvIzpgJnpgorlhYjlsId2beWuo+WRiui1t+S+hu+8jOmBv+WFjXRoaXPmjIflkJHpjK/oqqQKCiAgICAgIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgcHJvY2Vzcy5lbnYuVlVFX0FQUF9DVVNUT01QQVRIKTsKICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVMb2FkaW5nIiwgdHJ1ZSk7IC8vIOiuk+mggemdouWcqOi8ieWFpWFwaeS4reeahOeUouWTgeizh+aWmeaZguaJjeWVn+eUqGxvYWRpbmfmlYjmnpwKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KGFwaSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB2bS5pc0xvYWRpbmcgPSBmYWxzZTsgLy8g54S25b6M5YaN6LyJ5YWl5a6M5oiQ5Lul5b6M6Zec6ZaJbG9hZGluZ+aViOaenAoKICAgICAgICB2bS5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdHM7IC8vIOWwh3Jlc3BvbnNlLmRhdGHvvIzkuZ/lsLHmmK/lvp5BUEnlj5blvpfnmoTos4fmlpnlgrPlhaXkuIrpnaJkYXRh5Lit55qEcHJvZHVjdHM6W13kuK0KCiAgICAgICAgdm0ucGFnaW5hdGlvbiA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbjsgLy8g5bCH6aCB6Z2i6K6A5Y+W5Lul5b6M55qEcGFnaW5hdGlvbuizh+aWmeW4tuWFpeatpHZ1ZeS4rXBhZ2luYXRpb27nmoTnianku7YKCiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlLmRhdGEucGFnaW5hdGlvbjonLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5omT6ZaL5paw5aKe5oiW57eo6Lyv55Si5ZOBbW9kYWwKICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKGlzTmV3LCBpdGVtKSB7CiAgICAgIGlmIChpc05ldykgewogICAgICAgIHRoaXMudGVtcFByb2R1Y3QgPSB7fTsgLy8g5aaC5p6c5piv5paw5aKe55qE5pmC5YCZ77yMdGhpcy50ZW1wUHJvZHVjdOWwseacg+aYr+S4gOWAi+epuueahOeJqeS7tgoKICAgICAgICB0aGlzLmlzTmV3ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0aGlzLnRlbXBQcm9kdWN0ID0gaXRlbTsg6YCZ6YKK5aaC5p6c5Y+q5pyJ5omTID0gaXRlbe+8jOmCo+acg+WboOeCuueJqeS7tuWCs+WPg+iAg+eahOeJueaAp++8jOWwjuiHtOWFqemCiumDveS4gOaoo++8iOaEj+WNs+S/ruaUueWJjeW+jOmDveS4gOaoo++8jOS6kuebuOihneeqge+8n++8iQogICAgICAgIHRoaXMudGVtcFByb2R1Y3QgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsgLy8g5Zug5q2k77yM5L2/55SoT2JqZWN0LmFzc2lnbih7fSwgaXRlbSnnmoTmlrnlvI/vvIzlsIdpdGVt5a6j5ZGK5oiQ5Y+m5LiA5YCL5paw55qE54mp5Lu2CgogICAgICAgIHRoaXMuaXNOZXcgPSBmYWxzZTsKICAgICAgfQoKICAgICAgJCgiI3Byb2R1Y3RNb2RhbCIpLm1vZGFsKCJzaG93Iik7CiAgICB9LAogICAgLy8g5omT6ZaL5Yiq6Zmk55Si5ZOB55qEbW9kYWwKICAgIG9wZW5EZWxNb2RhbDogZnVuY3Rpb24gb3BlbkRlbE1vZGFsKGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIHRoaXMudGVtcFByb2R1Y3QgPSBpdGVtOwogICAgICAkKCIjZGVsUHJvZHVjdE1vZGFsIikubW9kYWwoInNob3ciKTsKICAgIH0sCiAgICAvLyDliKrpmaTnlKLlk4HnmoTlip/og70KICAgIGRlbGV0ZVByb2R1Y3Q6IGZ1bmN0aW9uIGRlbGV0ZVByb2R1Y3QoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBhcGkgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElQQVRILCAiL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DVVNUT01QQVRILCAiL2FkbWluL3Byb2R1Y3QvIikuY29uY2F0KHZtLnRlbXBQcm9kdWN0LmlkKTsKICAgICAgY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElQQVRILCBwcm9jZXNzLmVudi5WVUVfQVBQX0NVU1RPTVBBVEgpOwogICAgICB0aGlzLiRodHRwLmRlbGV0ZShhcGkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8g5Yiq6ZmkYXBp5YWn6LOH5paZ77yadGhpcy4kaHR0cC7jgI5kZWxldGXjgI/vvIzlhbbppJjoqp7ms5Xpg73kuIDmqKMKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgJCgiI2RlbFByb2R1Y3RNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICB2bS5nZXRQcm9kdWN0cygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkKCIjZGVsUHJvZHVjdE1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgIHZtLmdldFByb2R1Y3RzKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygi5Yiq6Zmk5aSx5pWXIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmlrDnlKLlk4HliJfooajnmoTlip/og70KICAgIHVwZGF0ZVByb2R1Y3Q6IGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3QoKSB7CiAgICAgIC8vIOWwh+izh+aWmeaWsOWinuS4iuWCs+WIsEFQSeizh+aWmeW6qyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOmAmemCii9wcm9kdWN05LiN5YqgcwogICAgICAvLyDngrrkuobkvb/nlKhpZuaWsOWinuS/ruaUueS4puabtOaWsGFwaeizh+aWmeW6q+eahOWKn+iDveWOn+acrOeahGNvbnN0IGFwaeimgeaUueaIkGxldCBhcGnvvIzlm6Dngrpjb25zdOaYr+WUr+iugOeLgOaFi++8jOS4jeWPr+izpuS6iOaWsOeahOWAvAogICAgICB2YXIgYXBpID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgIi9hcGkvIikuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQ1VTVE9NUEFUSCwgIi9hZG1pbi9wcm9kdWN0Iik7IC8vIC9wcm9kdWN05YmN6KaB5Yqg5LiKYWRtaW7vvIzpgJnpgormmK/lj4PogIPoqrLnqIthcGnlhaflrrnoqqrnmoQKCiAgICAgIHZhciBodHRwTWV0aG9kID0gInBvc3QiOwogICAgICB2YXIgdm0gPSB0aGlzOyAvLyDngrrkuoblvoXmnIPlsIdBUEnnmoTos4fmlpnljK/lhaVkYXRh6KOh77yM6YCZ6YKK5YWI5bCHdm3lrqPlkYrotbfkvobvvIzpgb/lhY10aGlz5oyH5ZCR6Yyv6KqkCiAgICAgIC8vICDkvb/nlKhpZuaWsOWinuS/ruaUueS4puabtOaWsGFwaeizh+aWmeW6q+eahOWKn+iDvQoKICAgICAgaWYgKCF2bS5pc05ldykgewogICAgICAgIC8vIOWBh+iorWlzTmV355qE6LOH5paZ5LiN5piv5paw55qE6ICM5piv6KaB6YCy6KGM5L+u5pS555qE5pmC5YCZ77yM5bCx5L2/55So5L+u5pS555Si5ZOB55qEYXBpCiAgICAgICAgYXBpID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgIi9hcGkvIikuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQ1VTVE9NUEFUSCwgIi9hZG1pbi9wcm9kdWN0LyIpLmNvbmNhdCh2bS50ZW1wUHJvZHVjdC5pZCk7CiAgICAgICAgaHR0cE1ldGhvZCA9ICJwdXQiOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVBBVEgsIHByb2Nlc3MuZW52LlZVRV9BUFBfQ1VTVE9NUEFUSCk7CiAgICAgIHRoaXMuJGh0dHBbaHR0cE1ldGhvZF0oYXBpLCB7CiAgICAgICAgZGF0YTogdm0udGVtcFByb2R1Y3QKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyB0aGlzLiRodHRwLuW+jOmdoueahGdldOaYr+S9nOeCuuWPluW+l+izh+aWme+8jOmAmemCiuWboOeCuuaYr+imgeaWsOWinuizh+aWmemAsuizh+aWmeW6q++8jOWboOatpOeUqHBvc3QKICAgICAgICAvLyDlm6DngrrkuZ/opoHlsId2bS50ZW1wUHJvZHVjdOS4n+mAsuizh+aWmeW6q++8jOaJgOS7pemAmemCiuS5n+imgeWvqwogICAgICAgIC8vIOS9huaYr+eUseaWvOimgemAgeWHuueahOizh+aWmeaYr+WMheWcqOeJqeS7tuS4reeahGRhdGHvvIzlm6DmraTmiJHlgJHkuZ/pnIDopoHnlKjnianku7bnmoTmlrnlvI97fe+8jOS4puS4lOaMh+WummRhdGHku6XkuIvnmoTos4fmlpnpgIHlh7rvvIzmiYDku6Xlv4XpoIjlr6vmiJB7IGRhdGE6IHZtLnRlbXBQcm9kdWN0IH0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsgLy8gdm0ucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhLnByb2R1Y3RzOwogICAgICAgIC8vIOWwh3Jlc3BvbnNlLmRhdGHvvIzkuZ/lsLHmmK/lvp5BUEnlj5blvpfnmoTos4fmlpnlgrPlhaXkuIrpnaJkYXRh5Lit55qEcHJvZHVjdHM6W13kuK0KICAgICAgICAvLyB2bS5wcm9kdWN0c+mAmeihjOS5n+W/hemgiOimgeWIqumZpOaIluiou+ino+aOie+8jOS4jeeEtuacg+aKinJlc3BvbnNlLmRhdGHnmoTos4fmlpnlj4jlho3mrKHlr6vpgLJ2beijoemdogogICAgICAgIC8vIOS9v+eUqGlm5paw5aKe5LiA5YCL5Yqf6IO977yM5aaC5p6c5pyJ5oiQ5Yqf5paw5aKe55Si5ZOB55qE6Kmx77yM5bCx5oqKbW9kYWzoppbnqpfpl5zplokKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgJCgiI3Byb2R1Y3RNb2RhbCIpLm1vZGFsKCJoaWRlIik7IC8vIG1vZGFsKCdoaWRlJynljbPpl5zploltb2RhbOimlueql+S5i+WKn+iDvQoKICAgICAgICAgIHZtLmdldFByb2R1Y3RzKCk7IC8vIOS4pumaqOW+jOeri+WNs+WGjeWPluW+l+S4gOasoeaJgOaciWFwaeeahOizh+aWmQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmlrDlop7lpLHmlZfot5/mlrDlop7miJDlip/kuIDmqKPvvIzlj6rmmK/mnIPlpJrlh7rkuIDmrrXoqIrmga8KICAgICAgICAgIC8vIOaEj+aAneWwseaYr+aykuacieaWsOWinuaIkOWKn++8jOS9huaYr+S5n+acg+mXnOaOiW1vZGFs5Lim5LiU6YeN5paw6LyJ5YWlYXBp6LOH5paZ77yM54S25b6M6YCP6YGOY29uc29sZei3s+WHuuaPkOmGkuioiuaBrwogICAgICAgICAgJCgiI3Byb2R1Y3RNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICB2bS5nZXRQcm9kdWN0cygpOwogICAgICAgICAgY29uc29sZS5sb2coIuaWsOWinuWkseaVlyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiK5YKz5ZyW54mHCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgIHZhciB1cGxvYWRlZEZpbGUgPSB0aGlzLiRyZWZzLmZpbGVzLmZpbGVzWzBdOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlLXRvLXVwbG9hZCIsIHVwbG9hZGVkRmlsZSk7IC8vIOWwh+aqlOahiOS7peihqOWWrueahOaWueW8j+mAgeWHuu+8jOS9v+eUqCdmaWxlLXRvLXVwbG9hZCfnmoTmrITkvY3vvIznhLblvozlsId1cGxvYWRlZEZpbGXos4fmlpnpgIHlh7oKCiAgICAgIHZhciB1cmwgPSAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElQQVRILCAiL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DVVNUT01QQVRILCAiL2FkbWluL3VwbG9hZCIpOyAvLyDlrprnvqnkuIrlgrPot6/lvpEKCiAgICAgIHZtLnN0YXR1cy5maWxlVXBsb2FkaW5nID0gdHJ1ZTsgLy8g6K6T6aCB6Z2i5Zyo5LiK5YKz55Si5ZOB55qE54Wn54mH5pmC5omN5ZWf55SobG9hZGluZ+aViOaenAoKICAgICAgdGhpcy4kaHR0cC5wb3N0KHVybCwgZm9ybURhdGEsIHsKICAgICAgICAvLyAodXJsPeS4iuWCs+i3r+W+kSwgZm9ybURhdGE95LiK5YKz5YWn5a65LCDlgZrlvozlho3luLbkuIrkuIDlgIvnianku7bvvIzluLbkuIrnianku7bnmoTnm67nmoTmmK/lsIfmoLzlvI/mlLnngrpGb3JtRGF0YeeahOagvOW8jwogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgLy8gbXVsdGlwYXJ0L2Zvcm0tZGF0YeWwseaYr0Zvcm1EYXRh55qE5qC85byPCgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyDkvb/nlKhQcm9taXNl5L6G5qqi5p+l5LiK5YKz6LOH5paZ5pyJ5rKS5pyJ5oiQ5YqfCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgdm0uc3RhdHVzLmZpbGVVcGxvYWRpbmcgPSBmYWxzZTsgLy8g6LyJ5YWl55Si5ZOB5ZyW54mH5a6M5oiQ5Lul5b6M5bCx5pyD5YiH5o+b5oiQ6Zec6ZaJ5pWI5p6cCiAgICAgICAgLy8g5Zyo5bCH5ZyW54mH5ouW5ouJ5Yiw5LiK5YKz5ZyW54mH5Y2A5pmC77yM5oiQ5Yqf55qE6Kmx5pyD5Y+W5b6X6KaB5LiK5YKz55qE5ZyW54mH57ay5Z2A77yM6YCZ5YCL57ay5Z2A6Lev5b6R5pyD6ZyA6KaB5bCN5oeJ5YiwdGVtcFByb2R1Y3TnmoRpbWFnZVVybOi3r+W+kQogICAgICAgIC8vIOS9v+eUqGlm77ya5aaC5p6c5LiK5YKz5ZyW54mH5piv5oiQ5Yqf55qE77yM6YKj5bCx5bCH5ZyW54mH55qE57ay5Z2A5bi25YWldGVtcFByb2R1Y3TnmoTntrLlnYDlhacKICAgICAgICAvLyBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgLy8gICB2bS50ZW1wUHJvZHVjdC5pbWFnZVVybCA9IHJlc3BvbnNlLmRhdGEuaW1hZ2VVcmw7CiAgICAgICAgLy8gfQogICAgICAgIC8vIOS9humAmeaoo+Wvq++8jOWcqOS4iuWCs+eUouWTgeWclueJh+eahOaZguWAmeS4puS4jeacg+Wwh+e2suWdgOmhr+ekuuaWvOe2suWdgOashOS9je+8jOWboOeCuuaykuacieafpeeci+WxrOaAp+aZguS4puaykuaciWdldHRlcui3n3NldHRlcu+8jOWboOatpOaykuaciembmeWQkee2geWumgogICAgICAgIC8vIOWboOatpOimgeS9v+eUqHNldOWwh+mAmeWAi+ashOS9jeW8t+WItuWvq+WFpQoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICB2bS4kc2V0KHZtLnRlbXBQcm9kdWN0LCAiaW1hZ2VVcmwiLCByZXNwb25zZS5kYXRhLmltYWdlVXJsKTsgLy8gdm0uJHNldOeahOWvq+WFpeaWueW8jyjnianku7YsIOWvq+WFpeeahOWxrOaApywg5YC8KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJtZXNzYWdlOnB1c2giLCByZXNwb25zZS5kYXRhLm1lc3NhZ2UsICJkYW5nZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTG9hZGluZzogZnVuY3Rpb24gaXNMb2FkaW5nKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuaXNMb2FkaW5nOyAvLyDoroDlj5ZzdG9yZS9pbmRleC5qc+ijoeeahHZ1ZXjnrqHnkIbkuK3nmoRpc0xvYWRpbmcKICAgIH0KICB9LAogIC8vIOWcqOmggemdoui8ieWFpeWujOaIkOW+jOiHquWLleaOm+i8iWdldFByb2R1Y3Rz5Yqf6IO977yM5bCH55Si5ZOB5b6eYXBp5bCO5YWl6aCB6Z2iCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvZHVjdHMoKTsKICB9Cn07"},{"version":3,"sources":["Products.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- 啟用loading-overlay的元件，貼在第一層div之內，不可貼到最外層的div -->\n    <div class=\"vld-parent\">\n      <!-- 當isLoading = true的時候就會啟用，false的時候就會停用，因為isLoading是一個功能，因此要在data()return{}物件中宣告變數 -->\n      <loading :active.sync=\"isLoading\"></loading>\n    </div>\n\n    <div class=\"text-right mt-4\">\n      <!-- data-toggle=\"modal\" data-target=\"#productModal\" 為modal（互動視窗畫面）指向 -->\n      <!-- <button class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#productModal\">建立新的產品</button> -->\n      <!-- 因為我們希望modal視窗可以在資料庫取得資料以後才觸發，因此新增按鈕觸發功能'openModal()' -->\n      <button class=\"btn btn-primary\" @click=\"openModal(true)\">建立新的產品</button>\n    </div>\n    <table class=\"table mt-4\">\n      <thead>\n        <tr>\n          <th width=\"120\">分類</th>\n          <th>產品名稱</th>\n          <th width=\"120\">原價</th>\n          <th width=\"120\">售價</th>\n          <th width=\"120\">是否啟用</th>\n          <th width=\"120\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products\" :key=\"item.id\">\n          <td>{{ item.category }}</td>\n          <td>{{ item.title }}</td>\n          <td>{{ item.origin_price | currency }}</td>\n          <td>{{ item.price | currency }}</td>\n          <td>\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else>未啟用</span>\n          </td>\n          <button\n            class=\"btn btn-outline-primary btn-sm mr-1 mt-2\"\n            @click=\"openModal(false, item)\"\n          >編輯</button>\n          <button class=\"btn btn-outline-danger btn-sm mt-2\" @click=\"openDelModal(item)\">刪除</button>\n        </tr>\n      </tbody>\n    </table>\n    <!-- 為了將資料寫入後端，使用v-model綁定資料 -->\n\n    <!-- 產品列表的分頁製作 -->\n     <Pagination :pagination=\"pagination\" @changePage=\"getProducts\"></Pagination> \n    <!-- 以頁面元件的方式插入Pagination， -->\n    <!-- :pagination為自定義名稱的功能，綁定data裡的pagination物件 -->\n    <!-- @changePage：在觸發任何改變時，觸發Pagination裡newPage(page)裡的this.$emit('changePage',page)，向上觸發getProducts(page)來更新api資料 -->\n\n    <!-- 新增及編輯產品 Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"productModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-dark text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span>新增產品</span>\n            </h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for=\"image\">輸入圖片網址</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"image\"\n                    v-model=\"tempProduct.imageUrl\"\n                    placeholder=\"請輸入圖片連結\"\n                  />\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"customFile\">\n                    或 上傳圖片\n                    <!-- 在上傳圖片的地方加上轉圈圈的loading效果，如果有在載入狀態就會觸發(true) -->\n                    <i class=\"fas fa-spinner fa-spin\" v-if=\"status.fileUploading\"></i>\n                  </label>\n                  <!-- 在input欄位中新增一個@change並帶入一個uploadFile，代表當有任何變更時觸發uploadFile的行為 -->\n                  <input\n                    type=\"file\"\n                    id=\"customFile\"\n                    class=\"form-control\"\n                    ref=\"files\"\n                    @change=\"uploadFile\"\n                  />\n                </div>\n                <img\n                  img=\"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80\"\n                  class=\"img-fluid\"\n                  :src=\"tempProduct.imageUrl\"\n                  alt\n                />\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"form-group\">\n                  <label for=\"title\">標題</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"title\"\n                    v-model=\"tempProduct.title\"\n                    placeholder=\"請輸入標題\"\n                  />\n                </div>\n\n                <div class=\"form-row\">\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"category\">分類</label>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"category\"\n                      v-model=\"tempProduct.category\"\n                      placeholder=\"請輸入分類\"\n                    />\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"price\">單位</label>\n                    <input type=\"unit\" class=\"form-control\" id=\"unit\" v-model=\"tempProduct.unit\" placeholder=\"請輸入單位\" />\n                  </div>\n                </div>\n\n                <div class=\"form-row\">\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"origin_price\">原價</label>\n                    <input\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"origin_price\"\n                      v-model=\"tempProduct.origin_price\"\n                      placeholder=\"請輸入原價\"\n                    />\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"price\">售價</label>\n                    <input\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"price\"\n                      v-model=\"tempProduct.price\"\n                      placeholder=\"請輸入售價\"\n                    />\n                  </div>\n                </div>\n                <hr />\n\n                <div class=\"form-group\">\n                  <label for=\"description\">產品描述</label>\n                  <textarea\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"description\"\n                    v-model=\"tempProduct.description\"\n                    placeholder=\"請輸入產品描述\"\n                  ></textarea>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"content\">說明內容</label>\n                  <textarea\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"content\"\n                    v-model=\"tempProduct.content\"\n                    placeholder=\"請輸入產品說明內容\"\n                  ></textarea>\n                </div>\n                <div class=\"form-group\">\n                  <div class=\"form-check\">\n                    <input\n                      class=\"form-check-input\"\n                      type=\"checkbox\"\n                      v-model=\"tempProduct.is_enabled\"\n                      id=\"is_enabled\"\n                    />\n                    <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 刪除產品 Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"delProductModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span>刪除產品</span>\n            </h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            是否刪除\n            <strong class=\"text-danger\">{{ tempProduct.title }}</strong>\n            <span>? 商品刪除後將無法恢復。</span>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteProduct\">確認刪除</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\"; // 因為openModal中有使用到'$'，而'$'是屬於jQuery功能中的變數，因此必須在這邊載入jQuery\nimport Pagination from '@/components/Pagination'; // 為了將Pagination.vue作為元件插入，需要import\n\nexport default {\n  name: \"Products\",\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false, // 判定是要新增還是編輯產品的model判斷式\n      // isLoading: false, // 預設先讓loading效果關閉\n      status: {\n        fileUploading: false\n      }\n    };\n  },\n  components: { \n    Pagination, // 為了將Pagination.vue作為元件插入，這邊將上面import Pagination導入後作為元件在Products.vue裡使用\n  },\n  methods: {\n    // 將api中的產品匯入產品頁面中\n    getProducts(page = 1) { // 為了讓產品列表可以在一載入時就將第一頁當作預設頁面，參數可以設定為page = 1，此為ES6的方法\n      // 取得API資料                                                // 切換頁：在products後面加上?page={page}，可讓切換頁面有實際作用\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products?page=${page}`;\n      const vm = this; // 為了待會將API的資料匯入data裡，這邊先將vm宣告起來，避免this指向錯誤\n      console.log(process.env.VUE_APP_APIPATH, process.env.VUE_APP_CUSTOMPATH);\n      vm.$store.dispatch(\"updateLoading\", true); // 讓頁面在載入api中的產品資料時才啟用loading效果\n      this.$http.get(api).then(response => {\n        console.log(response.data);\n        vm.isLoading = false; // 然後再載入完成以後關閉loading效果\n        vm.products = response.data.products; // 將response.data，也就是從API取得的資料傳入上面data中的products:[]中\n        vm.pagination = response.data.pagination; // 將頁面讀取以後的pagination資料帶入此vue中pagination的物件\n        console.log('response.data.pagination:', response.data);\n      });\n    },\n\n    // 打開新增或編輯產品modal\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {}; // 如果是新增的時候，this.tempProduct就會是一個空的物件\n        this.isNew = true;\n      } else {\n        // this.tempProduct = item; 這邊如果只有打 = item，那會因為物件傳參考的特性，導致兩邊都一樣（意即修改前後都一樣，互相衝突？）\n        this.tempProduct = Object.assign({}, item); // 因此，使用Object.assign({}, item)的方式，將item宣告成另一個新的物件\n        this.isNew = false;\n      }\n      $(\"#productModal\").modal(\"show\");\n    },\n\n    // 打開刪除產品的modal\n    openDelModal(item) {\n      console.log(item);\n      this.tempProduct = item;\n      $(\"#delProductModal\").modal(\"show\");\n    },\n\n    // 刪除產品的功能\n    deleteProduct() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.tempProduct.id}`;\n      console.log(process.env.VUE_APP_APIPATH, process.env.VUE_APP_CUSTOMPATH);\n      this.$http.delete(api).then(response => {\n        // 刪除api內資料：this.$http.『delete』，其餘語法都一樣\n        console.log(response.data);\n        if (response.data.success) {\n          $(\"#delProductModal\").modal(\"hide\");\n          vm.getProducts();\n        } else {\n          $(\"#delProductModal\").modal(\"hide\");\n          vm.getProducts();\n          console.log(\"刪除失敗\");\n        }\n      });\n    },\n\n    // 更新產品列表的功能\n    updateProduct() {\n      // 將資料新增上傳到API資料庫                                          // 這邊/product不加s\n      // 為了使用if新增修改並更新api資料庫的功能原本的const api要改成let api，因為const是唯讀狀態，不可賦予新的值\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product`; // /product前要加上admin，這邊是參考課程api內容說的\n      let httpMethod = \"post\";\n      const vm = this; // 為了待會將API的資料匯入data裡，這邊先將vm宣告起來，避免this指向錯誤\n\n      //  使用if新增修改並更新api資料庫的功能\n      if (!vm.isNew) {\n        // 假設isNew的資料不是新的而是要進行修改的時候，就使用修改產品的api\n        api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.tempProduct.id}`;\n        httpMethod = \"put\";\n      }\n      console.log(process.env.VUE_APP_APIPATH, process.env.VUE_APP_CUSTOMPATH);\n      this.$http[httpMethod](api, { data: vm.tempProduct }).then(response => {\n        // this.$http.後面的get是作為取得資料，這邊因為是要新增資料進資料庫，因此用post\n        // 因為也要將vm.tempProduct丟進資料庫，所以這邊也要寫\n        // 但是由於要送出的資料是包在物件中的data，因此我們也需要用物件的方式{}，並且指定data以下的資料送出，所以必須寫成{ data: vm.tempProduct }\n        console.log(response.data);\n        // vm.products = response.data.products;\n        // 將response.data，也就是從API取得的資料傳入上面data中的products:[]中\n        // vm.products這行也必須要刪除或註解掉，不然會把response.data的資料又再次寫進vm裡面\n\n        // 使用if新增一個功能，如果有成功新增產品的話，就把modal視窗關閉\n        if (response.data.success) {\n          $(\"#productModal\").modal(\"hide\"); // modal('hide')即關閉modal視窗之功能\n          vm.getProducts(); // 並隨後立即再取得一次所有api的資料\n        } else {\n          // 新增失敗跟新增成功一樣，只是會多出一段訊息\n          // 意思就是沒有新增成功，但是也會關掉modal並且重新載入api資料，然後透過console跳出提醒訊息\n          $(\"#productModal\").modal(\"hide\");\n          vm.getProducts();\n          console.log(\"新增失敗\");\n        }\n      });\n    },\n    // 上傳圖片\n    uploadFile() {\n      console.log(this);\n      const uploadedFile = this.$refs.files.files[0];\n      const vm = this;\n      const formData = new FormData();\n      formData.append(\"file-to-upload\", uploadedFile); // 將檔案以表單的方式送出，使用'file-to-upload'的欄位，然後將uploadedFile資料送出\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/upload`; // 定義上傳路徑\n      vm.status.fileUploading = true; // 讓頁面在上傳產品的照片時才啟用loading效果\n      this.$http\n        .post(url, formData, {\n          // (url=上傳路徑, formData=上傳內容, 做後再帶上一個物件，帶上物件的目的是將格式改為FormData的格式\n          headers: {\n            \"Content-Type\": \"multipart/form-data\" // multipart/form-data就是FormData的格式\n          }\n        })\n        .then(response => {\n          // 使用Promise來檢查上傳資料有沒有成功\n          console.log(response.data);\n          vm.status.fileUploading = false; // 載入產品圖片完成以後就會切換成關閉效果\n          // 在將圖片拖拉到上傳圖片區時，成功的話會取得要上傳的圖片網址，這個網址路徑會需要對應到tempProduct的imageUrl路徑\n          // 使用if：如果上傳圖片是成功的，那就將圖片的網址帶入tempProduct的網址內\n          // if (response.data.success) {\n          //   vm.tempProduct.imageUrl = response.data.imageUrl;\n          // }\n          // 但這樣寫，在上傳產品圖片的時候並不會將網址顯示於網址欄位，因為沒有查看屬性時並沒有getter跟setter，因此沒有雙向綁定\n          // 因此要使用set將這個欄位強制寫入\n          if (response.data.success) {\n            vm.$set(vm.tempProduct, \"imageUrl\", response.data.imageUrl); // vm.$set的寫入方式(物件, 寫入的屬性, 值)\n          } else {\n            this.$bus.$emit(\"message:push\", response.data.message, \"danger\");\n          }\n        });\n    },\n  },\n  computed: {\n    isLoading() {\n      return this.$store.state.isLoading; // 讀取store/index.js裡的vuex管理中的isLoading\n    },\n  },\n  // 在頁面載入完成後自動掛載getProducts功能，將產品從api導入頁面\n  created() {\n    this.getProducts();\n  }\n};\n</script>\n\n<style scoped>\n  \nth, td {\n  text-align: center;\n}\n\n</style>"],"sourceRoot":"src/components/pages"}]}